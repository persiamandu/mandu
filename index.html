<!DOCTYPE html>
<html lang="ko">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta charset="UTF-8" />
  <title>ìŠ¤ë§ˆíŠ¸ ë³µì§€ìƒë‹´ ì‹œë®¬ë ˆì´í„°</title>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background-color: #f4f6f9;
      padding: 30px;
      text-align: center;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .step { display: none; }
    .step.active { display: block; }
    input, select, button, textarea {
      padding: 10px;
      margin: 8px 0;
      width: 100%;
      box-sizing: border-box;
      font-size: 1rem;
    }
    .btn-primary {
      background: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .radio-group {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 20px;
      justify-content: flex-start;
    }
    .radio-group label {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 10px;
      background: #f9f9f9;
      border-radius: 6px;
      font-size: 1rem;
      padding: 10px 14px;
      flex: 1 1 100%;
      box-sizing: border-box;
      white-space: normal;
    }
    .radio-group input[type="checkbox"],
    .radio-group input[type="radio"] {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
    }
    @media (max-width: 768px) {
      .radio-group {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    #loadingOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.9);
  z-index: 10000;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  animation: blink 1s infinite;
}
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.4; }
    }
  @keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
</head>
<body>
  <div id="loadingOverlay">
    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%;">
      <div style="
        width: 60px;
        height: 60px;
        border: 6px solid #ccc;
        border-top: 6px solid #007bff;
        border-radius: 50%;
        animation: spin 1s linear infinite, blink 1s infinite;
        margin-bottom: 15px;
      "></div>
      <p style="font-size: 20px; animation: blink 1s infinite;">AIê°€ ìƒê°ì¤‘ì…ë‹ˆë‹¤...</p>
    </div>
  </div>
  <div class="container">
<div id="loadingOverlay">AIê°€ ìƒê°ì¤‘ì…ë‹ˆë‹¤...</div>

    <!-- Step 0: ì‹œì‘í™”ë©´ -->
    <div class="step active" id="step0">
      <h2>AI ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ë³µì§€ìƒë‹´ ì‹œë®¬ë ˆì´í„°</h2>
      <p>ì´ ì‹œë®¬ë ˆì´í„°ëŠ” ì‹¤ì œ ìƒë‹´ íë¦„ì„ ê°€ìƒìœ¼ë¡œ ì²´í—˜í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
      <button class="btn-primary" onclick="nextStep()">ìƒë‹´ ì‹œì‘í•˜ê¸°</button>
    </div>

    <!-- Step 1: ê¸°ë³¸ì •ë³´ ì…ë ¥ -->
    <div class="step" id="step1">
      <h3>Step 1. ìƒë‹´ëŒ€ìƒì ê¸°ë³¸ì •ë³´ ì…ë ¥</h3>
      <input type="text" id="name" placeholder="ì´ë¦„ ì…ë ¥" />
      <select id="gender">
        <option value="">ì„±ë³„ ì„ íƒ</option>
        <option value="ë‚¨ì„±">ë‚¨ì„±</option>
        <option value="ì—¬ì„±">ì—¬ì„±</option>
      </select>
      <input type="number" id="age" placeholder="ë‚˜ì´ ì…ë ¥" />
      <input type="text" id="contact" placeholder="ì—°ë½ì²˜ (ì˜ˆ: 010-1234-5678)" />
      <input type="text" id="region" placeholder="ê±°ì£¼ì§€ì—­ (ì˜ˆ: ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬)" />
      <input type="text" id="address" placeholder="ìƒì„¸ ì£¼ì†Œ (ì˜ˆ: â—‹â—‹ë™ 123-4)" />
      <select id="household">
        <option value="">ì„¸ëŒ€êµ¬ì„± ì„ íƒ</option>
        <option value="ë…ê±°">ë…ê±°</option>
        <option value="ë…¸ë¶€ë¶€">ë…¸ë¶€ë¶€</option>
        <option value="ë‹¤ì„¸ëŒ€">ë‹¤ì„¸ëŒ€</option>
        <option value="í•œë¶€ëª¨ ê°€ì •">í•œë¶€ëª¨ ê°€ì •</option>
      </select>
      <select id="income">
        <option value="">ìˆ˜ê¸‰ì—¬ë¶€ ì„ íƒ</option>
        <option value="ê¸°ì´ˆìˆ˜ê¸‰ì">ê¸°ì´ˆìƒí™œìˆ˜ê¸‰ì</option>
        <option value="ì°¨ìƒìœ„ê³„ì¸µ">ì°¨ìƒìœ„ê³„ì¸µ</option>
        <option value="ë¹„ìˆ˜ê¸‰ì">ë¹„ìˆ˜ê¸‰ì</option>
      </select>
      <button onclick="prevStep()">â† ë’¤ë¡œê°€ê¸°</button>  
      <button class="btn-primary" onclick="nextStep()">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
    </div>

    <!-- Step 2: ìƒí™œì‹¤íƒœ ì„¤ë¬¸ -->
    <div class="step" id="step2">
      <h3>Step 2. ìƒí™œì‹¤íƒœ ì„¤ë¬¸ ì‘ë‹µ</h3>
      <label for="housing">â‘  ì£¼ê±° ìƒíƒœ</label>
      <select id="housing">
        <option value="">ì„ íƒ</option>
        <option value="ìê°€">ìê°€</option>
        <option value="ì „ì„¸">ì „ì„¸</option>
        <option value="ì›”ì„¸">ì›”ì„¸</option>
        <option value="ë¬´ìƒê±°ì£¼">ë¬´ìƒê±°ì£¼</option>
        <option value="ê¸°íƒ€">ê¸°íƒ€</option>
      </select>
      <label for="health">â‘¡ ê±´ê°• ìƒíƒœ</label>
      <select id="health">
        <option value="">ì„ íƒ</option>
        <option value="ê±´ê°• ì–‘í˜¸">ê±´ê°• ì–‘í˜¸</option>
        <option value="ë§Œì„±ì§ˆí™˜ ìˆìŒ">ë§Œì„±ì§ˆí™˜ ìˆìŒ</option>
        <option value="ê±°ë™ ë¶ˆí¸">ê±°ë™ ë¶ˆí¸</option>
      </select>
      <label for="incomeStatus">â‘¢ ì†Œë“ ìƒíƒœ</label>
      <select id="incomeStatus">
        <option value="">ì„ íƒ</option>
        <option value="ì •ê¸°ì†Œë“ ìˆìŒ">ì •ê¸°ì†Œë“ ìˆìŒ</option>
        <option value="ë¬´ì§">ë¬´ì§</option>
        <option value="ì¼ìš©ì§">ì¼ìš©ì§</option>
        <option value="ê¸°íƒ€">ê¸°íƒ€</option>
      </select>
      <label for="careNeed">â‘£ ëŒë´„ í•„ìš” ì—¬ë¶€</label>
      <select id="careNeed">
        <option value="">ì„ íƒ</option>
        <option value="í•„ìš”í•¨">í•„ìš”í•¨</option>
        <option value="í•„ìš” ì—†ìŒ">í•„ìš” ì—†ìŒ</option>
      </select>
      <label for="memo">â‘¤ ê¸°íƒ€ ë©”ëª¨</label>
      <textarea id="memo" rows="4" style="height: 100px; width: 100%;"></textarea>
      <button onclick="prevStep()">â† ë’¤ë¡œê°€ê¸°</button>
      <button class="btn-primary" onclick="nextStep()">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
    </div>

    <!-- Step 3: ì „ì ì„¤ë¬¸ -->
    <div class="step" id="step3">
      <h3>Step 3. ì „ì ì„¤ë¬¸ ì…ë ¥</h3>

      <p style="text-align: left;">AI ì¶”ì²œ ì—°ë™ìš© - ë³µì§€ìš•êµ¬ ì„ íƒ</p>
      <div class="radio-group">
        <label><input type="checkbox" name="needs" value="ìƒê³„"> ìƒê³„</label>
        <label><input type="checkbox" name="needs" value="ì˜ë£Œ"> ì˜ë£Œ</label>
        <label><input type="checkbox" name="needs" value="ëŒë´„"> ëŒë´„</label>
      </div>

      <p style="text-align: left;">1. í˜„ì¬ ê³ ì •ì ì¸ ì†Œë“ì´ ìˆìœ¼ì‹ ê°€ìš”?</p>
      <div class="radio-group">
        <label><input type="radio" name="income_fixed" value="ì—†ìŒ"> ì—†ìŒ</label>
        <label><input type="radio" name="income_fixed" value="ì¼ìš©ì§"> ì¼ìš©ì§</label>
        <label><input type="radio" name="income_fixed" value="ì •ê¸°ì  ìˆ˜ì…"> ì •ê¸°ì  ìˆ˜ì…</label>
      </div>

      <p style="text-align: left;">2. ê°€ì¥ ì‹œê¸‰í•˜ê²Œ ì§€ì›ì´ í•„ìš”í•œ ì˜ì—­ì€ ë¬´ì—‡ì¸ê°€ìš”?</p>
      <div class="radio-group">
        <label><input type="radio" name="urgent_need" value="ìƒê³„"> ìƒê³„</label>
        <label><input type="radio" name="urgent_need" value="ì˜ë£Œ"> ì˜ë£Œ</label>
        <label><input type="radio" name="urgent_need" value="ì£¼ê±°"> ì£¼ê±°</label>
        <label><input type="radio" name="urgent_need" value="ëŒë´„"> ëŒë´„</label>
        <label><input type="radio" name="urgent_need" value="ê¸°íƒ€"> ê¸°íƒ€</label>
      </div>

      <p style="text-align: left;">3. í˜„ì¬ ìƒí™œì— ì–´ë ¤ì›€ì„ ëŠë¼ëŠ” ì£¼ìš” ì‚¬ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</p>
      <textarea id="difficulty_reason" rows="3" style="width: 100%;"></textarea>

      <p style="text-align: left;">4. ìµœê·¼ 3ê°œì›” ë‚´ ìœ„ê¸°ìƒí™©ì´ ìˆì—ˆë‚˜ìš”?</p>
      <div class="radio-group">
        <label><input type="radio" name="crisis" value="ì‹¤ì§"> ì‹¤ì§</label>
        <label><input type="radio" name="crisis" value="ê°€ì¡± ì‚¬ë§"> ê°€ì¡± ì‚¬ë§</label>
        <label><input type="radio" name="crisis" value="ì§ˆë³‘"> ì§ˆë³‘</label>
        <label><input type="radio" name="crisis" value="ì—†ìŒ"> ì—†ìŒ</label>
      </div>

      <p style="text-align: left;">5. ì¼ìƒìƒí™œì— ë„ì›€ì´ í•„ìš”í•œ ë¶€ë¶„ì´ ìˆìœ¼ì‹ ê°€ìš”?</p>
      <div class="radio-group">
        <label><input type="radio" name="daily_help" value="ì˜ˆ"> ì˜ˆ</label>
        <label><input type="radio" name="daily_help" value="ì•„ë‹ˆì˜¤"> ì•„ë‹ˆì˜¤</label>
      </div>

      <p style="text-align: left;">6. íŠ¹ë³„íˆ ì „ë‹¬í•˜ê³  ì‹¶ì€ ìƒí™©ì´ë‚˜ ìš”ì²­ì‚¬í•­ì´ ìˆìœ¼ì‹ ê°€ìš”?</p>
      <textarea id="final_request" rows="3" style="width: 100%;"></textarea>

      <button onclick="prevStep()">â† ë’¤ë¡œê°€ê¸°</button>
      <button class="btn-primary" onclick="nextStep()">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
    </div>

    <!-- Step 4: ìƒë‹´ ì¤‘ ì •ë³´ì…ë ¥ -->
   <div class="step" id="step4">
  <h3>Step 4. ìƒë‹´ ì¤‘ ì£¼ìš” ì •ë³´ ì…ë ¥</h3>

  <p style="text-align: left;">ğŸ¤ ìŒì„± ì¸ì‹ ì‹œë®¬ë ˆì´ì…˜</p>
  <button class="btn-primary" onclick="simulateSTT()">ìŒì„± ì…ë ¥ ì‹œì‘</button>
  <p id="stt-output" style="margin-top:10px; font-style: italic;"></p>

  <p style="text-align: left; margin-top: 20px;">ğŸ“ ìƒë‹´ ì¤‘ íŠ¹ì´ì‚¬í•­ ë©”ëª¨</p>
  <textarea id="memoText" rows="5" style="width: 100%;" placeholder="ì˜ˆ: ìµœê·¼ ë³‘ì›ë¹„ ê³¼ë‹¤ ì§€ì¶œë¡œ ìƒê³„ ê³¤ë€ í˜¸ì†Œ ë“±"></textarea>

  <br>
  <button onclick="prevStep()">â† ë’¤ë¡œê°€ê¸°</button>
  <button class="btn-primary" onclick="nextStep()">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
</div>
  </div>
<!-- Step 5: AI ì¶”ì²œ ë³µì§€ì„œë¹„ìŠ¤ ê²°ê³¼ -->
<!-- Step 5: AI ì¶”ì²œ ë³µì§€ì„œë¹„ìŠ¤ ê²°ê³¼ -->
<div class="step" id="step5">
  <!-- ì œëª©ê³¼ ì„¤ëª…ì´ í¬í•¨ëœ í°ìƒ‰ ë°•ìŠ¤ -->
  <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 5px rgba(0,0,0,0.1);">
    <h3 style="margin: 0;">Step 5. AI ì¶”ì²œ ë³µì§€ì„œë¹„ìŠ¤ ê²°ê³¼</h3>
    <p style="margin-top: 10px; font-size: 14px; color: #555;">
      ì•„ë˜ëŠ” AIê°€ ìƒë‹´ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ ì¶”ì²œí•œ ì„œë¹„ìŠ¤ ëª©ë¡ì…ë‹ˆë‹¤.
    </p>
  </div>

  <!-- ì¶”ì²œ ê²°ê³¼ ì¶œë ¥ ì˜ì—­ -->
  <div id="recommendationArea" style="margin-top: 30px;"></div>

  <br>
  <button onclick="prevStep()">â† ë’¤ë¡œê°€ê¸°</button>
  <button class="btn-primary" onclick="nextStep()">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
</div>

  <!-- Step 6: ìë£Œ ì „ì†¡ ë° ì €ì¥ ì•ˆë‚´ -->
<div class="step" id="step6">
  <!-- ì œëª©ê³¼ ì„¤ëª…ì´ í¬í•¨ëœ í°ìƒ‰ ë°•ìŠ¤ -->
  <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 5px rgba(0,0,0,0.1); text-align: center;">
    <h3 style="margin: 0;">Step 6. ìë£Œ ì „ì†¡ ë° ì €ì¥</h3>
    <p style="margin-top: 10px; font-size: 14px; color: #555;">
      ìƒë‹´ ì •ë³´ì™€ ì¶”ì²œ ê²°ê³¼ë¥¼ ì €ì¥í•˜ê±°ë‚˜, ì‹¤ì œ í–‰ì • ì‹œìŠ¤í…œì— ì—°ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>
  </div>

  <!-- ë²„íŠ¼ ì˜ì—­ -->
  <div style="margin-top: 30px;">
    <button class="btn-primary" onclick="alert('ìë£Œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.')">ğŸ“¥ ì €ì¥í•˜ê¸°</button>
    <button class="btn-primary" onclick="alert('ìë£Œê°€ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.')">ğŸ“¤ ì „ì†¡í•˜ê¸°</button>
  </div>

  <br><br>
  <button onclick="prevStep()">â† ë’¤ë¡œê°€ê¸°</button>
  <button class="btn-primary" onclick="nextStep()">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
</div>

<!-- Step 7: ìƒë‹´ ì¢…ë£Œ -->
<div class="step" id="step7">
  <h3>Step 7. ìƒë‹´ ì¢…ë£Œ</h3>
  <p>ìƒë‹´ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

  <button class="btn-primary" onclick="restartSimulation()">ğŸ”„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘</button>
<button class="btn-primary" onclick="handleFinalSummary()">ğŸ“ ìƒë‹´ ì¢…ë£Œí•˜ê¸°</button>
</div>
<!-- ìƒë‹´ìš”ì•½ íŒì—… -->
<div id="summaryPopup" style="display:none; position:fixed; top:10%; left:50%; transform:translateX(-50%);
  width:90%; max-width:600px; background:white; padding:30px; border-radius:10px; box-shadow:0 0 20px rgba(0,0,0,0.3); z-index:9999; text-align:left;">

  <h3>ğŸ“‹ ìƒë‹´ ìš”ì•½</h3>
  <p><strong>ìƒë‹´ì:</strong> <span id="popupName"></span></p>
  <p><strong>ë‚˜ì´:</strong> <span id="popupAge"></span></p>
  <p><strong>í¬ë§ ì„œë¹„ìŠ¤:</strong> <span id="popupNeeds"></span></p>

  <hr>
  <h4>ğŸ” ì¶”ì²œ ì„œë¹„ìŠ¤</h4>
  <div id="popupServices" style="margin-bottom:15px;"></div>

  <h4>ğŸ“‘ ì œì¶œì„œë¥˜ ì˜ˆì‹œ</h4>
  <ul>
    <li>ì£¼ë¯¼ë“±ë¡ë“±ë³¸</li>
    <li>ì†Œë“ í™•ì¸ì„œë¥˜ (ê¸‰ì—¬ëª…ì„¸ì„œ ë“±)</li>
    <li>ê±´ê°•ë³´í—˜ ìê²©í™•ì¸ì„œ</li>
  </ul>

  <div style="text-align:center; margin-top:30px;">
    <button class="btn-primary" onclick="closeSummaryPopup()">ì¢…ë£Œ</button>
  </div>
</div>

  <script>
  
  let currentStep = 0;

  function nextStep() {
    if (currentStep === 4) {
      showLoadingThenGoToNextStep();
      return;
    }
    document.getElementById(`step${currentStep}`).classList.remove('active');
    currentStep++;
    document.getElementById(`step${currentStep}`).classList.add('active');
    if (currentStep === 5) {
      renderServiceRecommendations();
    }
  }

  function showLoadingThenGoToNextStep() {
    document.getElementById(`step${currentStep}`).classList.remove('active');
    document.getElementById("loadingOverlay").style.display = "flex";
    setTimeout(() => {
      document.getElementById("loadingOverlay").style.display = "none";
      currentStep++;
      document.getElementById(`step${currentStep}`).classList.add('active');
    }, 3000);
  }

function prevStep() {
  document.getElementById(`step${currentStep}`).classList.remove('active');
  currentStep--;
  document.getElementById(`step${currentStep}`).classList.add('active');
}

function renderServiceRecommendations() {
  const age = parseInt(document.getElementById("age").value);
  const income = document.getElementById("income").value;
  const selectedNeeds = Array.from(document.querySelectorAll("input[name='needs']:checked")).map(el => el.value);

  const results = [];
  if (age >= 65) {
    results.push({
      title: "ë…¸ì¸ì¼ìë¦¬ì‚¬ì—…",
      desc: "ë§Œ 65ì„¸ ì´ìƒ ëŒ€ìƒ, ì›” í™œë™ë¹„ ì§€ê¸‰ (ìµœëŒ€ 30ë§Œ ì›). ì§€ì—­ ë…¸ì¸ë³µì§€ì„¼í„° ë˜ëŠ” ìë©´ë™ í†µí•´ ì‹ ì²­ ê°€ëŠ¥."
    });
  }
  if (income === "ê¸°ì´ˆìˆ˜ê¸‰ì" || selectedNeeds.includes("ìƒê³„")) {
    results.push({
      title: "ê¸´ê¸‰ë³µì§€ì§€ì› (ìƒê³„)",
      desc: "ìµœê·¼ ìœ„ê¸°ìƒí™©(ì§ˆë³‘, ì‹¤ì§ ë“±) ì‹œ ìƒê³„ë¹„ ìµœëŒ€ 154ë§Œ ì› ì§€ì›. ìë©´ë™ í–‰ì •ë³µì§€ì„¼í„°ì—ì„œ ì‹ ì²­."
    });
  }
  if (selectedNeeds.includes("ëŒë´„") || selectedNeeds.includes("ì˜ë£Œ")) {
    results.push({
      title: "ë°©ë¬¸ìš”ì–‘ì„œë¹„ìŠ¤",
      desc: "ì¥ê¸°ìš”ì–‘ë“±ê¸‰ì ëŒ€ìƒ, ê°€ì •ë°©ë¬¸ ìš”ì–‘ë³´í˜¸ì‚¬ ì§€ì›. ê±´ê°•ë³´í—˜ê³µë‹¨ì„ í†µí•´ ì‹ ì²­ ê°€ëŠ¥."
    });
  }

  const resultDiv = document.getElementById("recommendationArea");
  resultDiv.innerHTML = results.map(service => `
    <div style="border:1px solid #ddd; padding:15px; margin-bottom:10px; border-radius:8px; text-align:left;">
      <strong>â€¢ ${service.title}</strong><br>${service.desc}
    </div>
  `).join('');
}

function simulateSTT() {
  const example = "ìµœê·¼ ë³‘ì›ë¹„ë¡œ ì¸í•´ ìƒí™œë¹„ ë¶€ì¡±ì„ í˜¸ì†Œí•¨. ì™¸ë¶€ ì§€ì› í¬ë§.";
  document.getElementById("stt-output").innerText = `"${example}" (ìë™ ì¸ì‹ë¨)`;
}

function restartSimulation() {
  document.getElementById(`step${currentStep}`).classList.remove('active');
  currentStep = 0;
  document.getElementById(`step${currentStep}`).classList.add('active');
  const inputs = document.querySelectorAll("input[type='text'], input[type='number'], textarea");
  inputs.forEach(input => input.value = "");
  const selects = document.querySelectorAll("select");
  selects.forEach(select => select.selectedIndex = 0);
  const checks = document.querySelectorAll("input[type='checkbox'], input[type='radio']");
  checks.forEach(check => check.checked = false);
  document.getElementById("recommendationArea").innerHTML = "";
  document.getElementById("stt-output").innerText = "";
}

function handleFinalSummary() {
  alert("ìƒë‹´ì´ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
  document.getElementById("popupName").innerText = document.getElementById("name").value || "ë¯¸ì…ë ¥";
  document.getElementById("popupAge").innerText = document.getElementById("age").value || "ë¯¸ì…ë ¥";
  const needs = Array.from(document.querySelectorAll("input[name='needs']:checked")).map(el => el.value);
  document.getElementById("popupNeeds").innerText = needs.length > 0 ? needs.join(", ") : "ì—†ìŒ";
  const original = document.getElementById("recommendationArea").innerHTML;
  document.getElementById("popupServices").innerHTML = original;
  document.getElementById("summaryPopup").style.display = "block";
}

function closeSummaryPopup() {
  document.getElementById("summaryPopup").style.display = "none";
  restartSimulation();
}
</script>
  <div id="loadingOverlay">
  <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
    <div style="
      width: 60px;
      height: 60px;
      border: 6px solid #ccc;
      border-top: 6px solid #007bff;
      border-radius: 50%;
      animation: spin 1s linear infinite, blink 1s infinite;
      margin-bottom: 15px;
    "></div>
    <p style="font-size: 20px; animation: blink 1s infinite;">AIê°€ ìƒê°ì¤‘ì…ë‹ˆë‹¤...</p>
  </div>
</div>
</div>
</div>
</body>
</html>

